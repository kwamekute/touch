(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{520:function(e,t,a){"use strict";a.r(t);var n=a(91),r=a.n(n),i=a(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(391);var c=a(18),o=a(676),s=a(659),l=a(675),d=Object(s.a)((function(){return Object(l.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),j=function(){return d(),null},u=a(60);u.Chart.helpers.extend(u.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,r,i,c,o,s=this._chart.ctx,l=this._view,d=l.borderWidth,j=this._chart.config.options.cornerRadius;if(j<0&&(j=0),"undefined"===typeof j&&(j=0),l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,r=t>e?1:-1,i=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,r=1,i=(n=l.base)>a?1:-1,c=l.borderSkipped||"bottom"),d){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),b=(d=d>u?u:d)/2,p=e+("left"!==c?b*r:0),x=t+("right"!==c?-b*r:0),h=a+("top"!==c?b*i:0),O=n+("bottom"!==c?-b*i:0);p!==x&&(a=h,n=O),h!==O&&(e=p,t=x)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=d;var m=[[e,n],[e,a],[t,a],[t,n]],f=["bottom","left","top","right"].indexOf(c,0);function g(e){return m[(f+e)%4]}-1===f&&(f=0);var v=g(0);s.moveTo(v[0],v[1]);for(var y=1;y<4;y+=1){v=g(y);var w=y+1;4===w&&(w=0);var S=m[2][0]-m[1][0],C=m[0][1]-m[1][1],k=m[1][0],T=m[1][1];if((o=j)>Math.abs(C)/2&&(o=Math.floor(Math.abs(C)/2)),o>Math.abs(S)/2&&(o=Math.floor(Math.abs(S)/2)),C<0){var A=k,D=k+S,R=T+C,_=T+C,P=k,E=k+S,B=T,I=T;s.moveTo(P+o,B),s.lineTo(E-o,I),s.quadraticCurveTo(E,I,E,I-o),s.lineTo(D,_+o),s.quadraticCurveTo(D,_,D-o,_),s.lineTo(A+o,R),s.quadraticCurveTo(A,R,A,R+o),s.lineTo(P,B-o),s.quadraticCurveTo(P,B,P+o,B)}else if(S<0){var W=k+S,M=k,N=T,F=T,z=k+S,G=k,L=T+C,q=T+C;s.moveTo(z+o,L),s.lineTo(G-o,q),s.quadraticCurveTo(G,q,G,q-o),s.lineTo(M,F+o),s.quadraticCurveTo(M,F,M-o,F),s.lineTo(W+o,N),s.quadraticCurveTo(W,N,W,N+o),s.lineTo(z,L-o),s.quadraticCurveTo(z,L,z+o,L)}else s.moveTo(k+o,T),s.lineTo(k+S-o,T),s.quadraticCurveTo(k+S,T,k+S,T+o),s.lineTo(k+S,T+C-o),s.quadraticCurveTo(k+S,T+C,k+S-o,T+C),s.lineTo(k+o,T+C),s.quadraticCurveTo(k,T+C,k,T+C-o),s.lineTo(k,T+o),s.quadraticCurveTo(k,T,k+o,T)}s.fill(),d&&s.stroke()}});var b=a(380),p=a(15),x=Object(b.a)({palette:{background:{default:"#F4F6F8",paper:p.a.common.white},primary:{contrastText:"#ffffff",main:"#c70a0a"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),h=a(13),O=a(5),m=a(1),f=a(7),g=a(9),v=a(121),y=a(533),w=a(535),S=a(490),C=a(525),k=a(536),T=a(366),A=a.n(T),D=a(0),R=function(e){var t=e.onMobileNavOpen,a=Object(v.a)(e,["onMobileNavOpen"]);return Object(D.jsx)(y.a,Object(g.a)(Object(g.a)({elevation:0},a),{},{children:Object(D.jsxs)(w.a,{children:[Object(D.jsx)(i.b,{to:"/"}),Object(D.jsx)(S.a,{sx:{flexGrow:1}}),Object(D.jsx)(C.a,{lgUp:!0,children:Object(D.jsx)(k.a,{color:"inherit",onClick:t,children:Object(D.jsx)(A.a,{})})})]})}))},_=a(529),P=a(538),E=a(539),B=a(540),I=a(537),W=a(541),M=a(663),N=a(664),F=a(665),z=a(666),G=a(667),L=a(193),q=a(526),U=function(e){var t=e.href,a=e.icon,n=e.title,r=e.badge,o=e.count,s=Object(v.a)(e,["href","icon","title","badge","count"]),l=Object(c.g)(),d=!!t&&!!Object(c.d)({path:t,end:!1},l.pathname);return Object(D.jsx)(L.b,Object(g.a)(Object(g.a)({disableGutters:!0,sx:{display:"flex",py:0}},s),{},{children:Object(D.jsxs)(I.a,{endIcon:r?Object(D.jsx)(q.a,{style:{paddingLeft:13},badgeContent:o,color:"primary",max:99}):null,component:i.c,sx:Object(g.a)(Object(g.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},d&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[a&&Object(D.jsx)(a,{size:"20"}),Object(D.jsx)("span",{children:n})]})}))},Y=a(17),H=a.n(Y),J=a(22),K=a(20),V=function(e,t){switch(t.type){case"GET_BOOKINGS":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,bookings:t.payload});case"GET_PENDING_BOOKINGS":return Object(g.a)(Object(g.a)({},e),{},{pendingBookings:t.payload});case"GET_STATS":return Object(g.a)(Object(g.a)({},e),{},{stats:t.payload});case"GET_STATS_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});case"GET_ADMINS":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,admins:t.payload});case"UPDATE_ADMINS":return Object(g.a)(Object(g.a)({},e),{},{admins:e.admins.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_BOOKING":return Object(g.a)(Object(g.a)({},e),{},{bookings:e.bookings.filter((function(e){return e._id!==t.payload._id}))});case"DELETE_ADMINS":return Object(g.a)(Object(g.a)({},e),{},{admins:e.admins.filter((function(e){return e._id!==t.payload._id}))});case"ADD_BOOKING":return Object(g.a)(Object(g.a)({},e),{},{bookings:[].concat(Object(K.a)(e.bookings),[t.payload])});case"UPDATE_BOOKING":return Object(g.a)(Object(g.a)({},e),{},{bookings:e.bookings.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"GET_BOOKINGS_ERROR":case"GET_ADMINS_ERROR":case"ADD_USER_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});case"FINISH_ADMIN_SETUP":case"LOGIN_USER":return localStorage.setItem("authenticatedUser",JSON.stringify(Object(g.a)({},null===t||void 0===t?void 0:t.payload))),Object(g.a)(Object(g.a)({},e),{},{user:t.payload,auth:!0});case"LOG_OUT_USER":return localStorage.clear(),Object(g.a)(Object(g.a)({},e),{},{user:null,auth:!1,bookings:[],error:null});case"LOGIN_USER_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});case"PASSWORD_RESET":case"FORGOT_PASSWORD":return Object(g.a)(Object(g.a)({},e),{},{error:null,message:t.payload});case"FORGOT_PASSWORD_ERROR":case"UPDATE_ADMINS_ERROR":case"GET_ADMINS_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},Z=a(36),$=a.n(Z),Q="https://luxury-touch.herokuapp.com/",X=JSON.parse(localStorage.getItem("authenticatedUser")),ee={bookings:[],admins:[],stats:[],auth:!!X,loading:!0,error:null,user:X,message:null},te=Object(m.createContext)(ee),ae=function(e){var t=e.children,a=Object(m.useReducer)(V,ee),n=Object(h.a)(a,2),r=n[0],i=n[1];function c(){return(c=Object(J.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=4,$.a.get("".concat(Q,"api/bookings/stats"),a);case 4:n=e.sent,i({type:"GET_STATS",payload:n.data.stats}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("stats=>",e.t0.response),i({type:"GET_STATS_ERROR",payload:null===(r=e.t0.response)||void 0===r?void 0:r.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function o(){return(o=Object(J.a)(H.a.mark((function e(t,a){var n,r,c,o,s,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.email,c=t.phone,o=t.permission,e.prev=1,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=5,$.a.post("".concat(Q,"api/auth/register"),{name:n,email:r,phone:c,permission:o},s);case 5:i({type:"ADD_USER"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),i({type:"ADD_USER_ERROR",payload:null===(l=e.t0.response)||void 0===l?void 0:l.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function s(){return(s=Object(J.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=4,$.a.get("".concat(Q,"api/auth/admins"),a);case 4:n=e.sent,i({type:"GET_ADMINS",payload:n.data.users}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i({type:"GET_ADMINS_ERROR",payload:null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=Object(J.a)(H.a.mark((function e(t,a){var n,r,c,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a._id,r=a.permission,e.prev=1,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=5,$.a.put("".concat(Q,"api/auth/admins/").concat(n),{permission:r},c);case 5:o=e.sent,i({type:"UPDATE_ADMINS",payload:o.data.updatedUser}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),i({type:"UPDATE_ADMINS_ERROR",payload:null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function d(){return(d=Object(J.a)(H.a.mark((function e(t,a){var n,r,c,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,r=t.passwordConfirmation,c=a.inviteToken,e.prev=2,e.next=5,$.a.put("".concat(Q,"api/auth/newaccount/").concat(c),{password:n,passwordConfirmation:r});case 5:o=e.sent,i({type:"FINISH_ADMIN_SETUP",payload:o.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),i({type:"ADD_USER_ERROR",payload:null===(s=e.t0.response)||void 0===s?void 0:s.data.error});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function j(){return(j=Object(J.a)(H.a.mark((function e(t){var a,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,$.a.post("".concat(Q,"api/auth/login"),{email:a,password:n});case 4:r=e.sent,i({type:"LOGIN_USER",payload:r.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),i({type:"LOGIN_USER_ERROR",payload:null===(c=e.t0.response)||void 0===c?void 0:c.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function u(){return(u=Object(J.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.prev=1,e.next=4,$.a.post("".concat(Q,"api/auth/forgotpassword"),{email:a});case 4:n=e.sent,i({type:"FORGOT_PASSWORD",payload:n.data.message}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),i({type:"FORGOT_PASSWORD_ERROR",payload:null===(r=e.t0.response)||void 0===r?void 0:r.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function b(){return(b=Object(J.a)(H.a.mark((function e(t,a){var n,r,c,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,r=t.passwordConfirmation,c=a.resetToken,e.prev=2,e.next=5,$.a.put("".concat(Q,"api/auth/resetpassword/").concat(c),{password:n,passwordConfirmation:r});case 5:o=e.sent,i({type:"PASSWORD_RESET",payload:o.data.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),i({type:"FORGOT_PASSWORD_ERROR",payload:null===(s=e.t0.response)||void 0===s?void 0:s.data.error});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function p(){return(p=Object(J.a)(H.a.mark((function e(t){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=4,$.a.get("".concat(Q,"api/bookings"),a);case 4:n=e.sent,i({type:"GET_BOOKINGS",payload:n.data.bookings}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i({type:"GET_BOOKINGS_ERROR",payload:null===(r=e.t0.response)||void 0===r?void 0:r.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(J.a)(H.a.mark((function e(t,a){var n,r,c,o,s,l,d,j,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.checkInDate,r=a.checkOutDate,c=a.email,o=a.name,s=a.phone,l=a.room,e.prev=1,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}},e.next=5,$.a.get("".concat(Q,"api/bookings?name=").concat(o,"&email=").concat(c,"&phone=").concat(s,"&roomType=").concat(l,"&checkIn=").concat(n,"&checkOut=").concat(r),d);case 5:j=e.sent,i({type:"GET_BOOKINGS",payload:j.data.bookings}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),i({type:"GET_BOOKINGS_ERROR",payload:null===(u=e.t0.response)||void 0===u?void 0:u.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function O(){return(O=Object(J.a)(H.a.mark((function e(t,a){var n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=4,$.a.delete("".concat(Q,"api/bookings/").concat(t),n);case 4:r=e.sent,i({type:"DELETE_BOOKING",payload:r.data.deletedBooking}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i({type:"GET_BOOKINGS_ERROR",payload:null===(c=e.t0.response)||void 0===c?void 0:c.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(){return(f=Object(J.a)(H.a.mark((function e(t,a){var n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=4,$.a.delete("".concat(Q,"api/auth/admins/").concat(t),n);case 4:r=e.sent,i({type:"DELETE_ADMINS",payload:r.data.deletedUser}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i({type:"GET_ADMINS_ERROR",payload:null===(c=e.t0.response)||void 0===c?void 0:c.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){return(g=Object(J.a)(H.a.mark((function e(t,a){var n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=4,$.a.put("".concat(Q,"api/bookings/").concat(t._id),t,n);case 4:r=e.sent,i({type:"UPDATE_BOOKING",payload:r.data.booking}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i({type:"GET_BOOKINGS_ERROR",payload:null===(c=e.t0.response)||void 0===c?void 0:c.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(D.jsx)(te.Provider,{value:{bookings:r.bookings,auth:r.auth,error:r.error,loading:r.loading,user:r.user,admins:r.admins,message:r.message,stats:r.stats,deleteBooking:function(e,t){return O.apply(this,arguments)},addBooking:function(e){i({type:"ADD_BOOKING",payload:e})},updateBooking:function(e,t){return g.apply(this,arguments)},getBookings:function(e){return p.apply(this,arguments)},logInUser:function(e){return j.apply(this,arguments)},logOutUser:function(){i({type:"LOG_OUT_USER"})},addNewUser:function(e,t){return o.apply(this,arguments)},finishSetup:function(e,t){return d.apply(this,arguments)},fogortPassword:function(e){return u.apply(this,arguments)},resetPassword:function(e,t){return b.apply(this,arguments)},getFilteredBookings:function(e,t){return x.apply(this,arguments)},getAdmins:function(e){return s.apply(this,arguments)},updateAdmin:function(e,t){return l.apply(this,arguments)},deleteAdmin:function(e,t){return f.apply(this,arguments)},getStats:function(e){return c.apply(this,arguments)}},children:t})},ne=[{href:"/app/dashboard",icon:M.a,title:"Dashboard"},{href:"/app/bookings",icon:N.a,title:"Bookings",badge:!0,count:null},{href:"/app/account",icon:F.a,title:"Account"}],re=function(e){var t,a=e.onMobileClose,n=e.openMobile,r=Object(c.h)(),o=Object(c.g)(),s=Object(m.useContext)(te),l=s.user,d=s.logOutUser,j=s.stats,u=s.getStats;Object(m.useEffect)((function(){u(l)}),[]),ne[1].count=j.total_pending,Object(m.useEffect)((function(){n&&a&&a()}),[o.pathname]);var b=Object(D.jsxs)(S.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(D.jsxs)(S.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(D.jsx)(_.a,{component:i.b,alt:null===l||void 0===l?void 0:l.user.name,sx:{cursor:"pointer",width:60,height:60},to:"/app/account"}),Object(D.jsx)(P.a,{color:"textPrimary",variant:"h5",children:null===l||void 0===l?void 0:l.user.name}),Object(D.jsx)(P.a,{color:"textSecondary",variant:"body2",children:null===l||void 0===l?void 0:l.user.permission})]}),Object(D.jsx)(E.a,{}),Object(D.jsxs)(S.a,{sx:{p:2},children:[Object(D.jsx)(B.a,{children:ne.map((function(e){return Object(D.jsx)(U,{href:e.href,title:e.title,icon:e.icon,badge:e.badge,count:null===e||void 0===e?void 0:e.count},e.title)}))}),"Super-Admin"===(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.permission)&&Object(D.jsxs)(I.a,{component:i.b,to:"/app/admins",sx:{color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%","& svg":{mr:1}},children:[Object(D.jsx)(z.a,{size:"20"}),Object(D.jsx)("span",{children:"Manage Admins"})]}),Object(D.jsxs)(I.a,{onClick:function(){d(),r("/login",{replace:!0})},sx:{color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%","& svg":{mr:1}},children:[Object(D.jsx)(G.a,{size:"20"}),Object(D.jsx)("span",{children:"Logout"})]})]})]});return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C.a,{lgUp:!0,children:Object(D.jsx)(W.a,{anchor:"left",onClose:a,open:n,variant:"temporary",PaperProps:{sx:{width:256}},children:b})}),Object(D.jsx)(C.a,{lgDown:!0,children:Object(D.jsx)(W.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:b})})]})};re.defaultProps={onMobileClose:function(){},openMobile:!1};var ie=re,ce=Object(f.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),oe=Object(f.a)("div")((function(e){var t=e.theme;return Object(O.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),se=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),le=Object(f.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),de=function(){var e=Object(m.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(D.jsxs)(ce,{children:[Object(D.jsx)(R,{onMobileNavOpen:function(){return n(!0)}}),Object(D.jsx)(ie,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(D.jsx)(oe,{children:Object(D.jsx)(se,{children:Object(D.jsx)(le,{children:Object(D.jsx)(c.b,{})})})})]})},je=function(e){return Object(D.jsx)("img",Object(g.a)({alt:"Logo",src:"/static/lux-touch.png"},e))},ue=Object(f.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),be=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),pe=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),xe=Object(f.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),he=function(){return Object(D.jsx)(ue,{children:Object(D.jsx)(be,{children:Object(D.jsx)(pe,{children:Object(D.jsx)(xe,{children:Object(D.jsx)(c.b,{})})})})})},Oe=a(25),me=a(556),fe=a(546),ge=a(31),ve=a.n(ge),ye=a(542),we=a(543),Se=a(544),Ce=function(e){var t=e.details;return Object(D.jsxs)(ye.a,Object(g.a)(Object(g.a)({},e),{},{children:[Object(D.jsx)(we.a,{children:Object(D.jsxs)(S.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(D.jsx)(_.a,{alt:t.name,sx:{height:100,width:100}}),Object(D.jsx)(P.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:t.name}),Object(D.jsx)(P.a,{color:"textSecondary",variant:"body1",children:t.permission})]})}),Object(D.jsx)(E.a,{}),Object(D.jsx)(Se.a,{children:Object(D.jsx)(I.a,{color:"primary",fullWidth:!0,variant:"text",children:"Upload picture"})})]}))},ke=a(545),Te=a(547),Ae=function(e){var t=e.details,a=Object(m.useState)(t),n=Object(h.a)(a,2),r=n[0],i=n[1],c=function(e){i(Object(g.a)(Object(g.a)({},r),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(D.jsx)("form",Object(g.a)(Object(g.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(D.jsxs)(ye.a,{children:[Object(D.jsx)(ke.a,{subheader:"You can edit your information",title:"Profile"}),Object(D.jsx)(E.a,{}),Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:3,children:[Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Name",name:"name",onChange:c,required:!0,value:r.name,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:c,required:!0,value:r.email,variant:"outlined"})})]})}),Object(D.jsx)(E.a,{}),Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(D.jsx)(I.a,{color:"primary",variant:"contained",children:"Save details"})})]})}))},De=function(){var e=JSON.parse(localStorage.getItem("authenticatedUser")).user;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Account"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsx)(me.a,{maxWidth:"lg",children:Object(D.jsxs)(fe.a,{container:!0,spacing:3,children:[Object(D.jsx)(fe.a,{item:!0,lg:4,md:6,xs:12,children:Object(D.jsx)(Ce,{details:e})}),Object(D.jsx)(fe.a,{item:!0,lg:8,md:6,xs:12,children:Object(D.jsx)(Ae,{details:e})})]})})})]})},Re=a(179),_e=a.n(Re),Pe=a(571),Ee=a(560),Be=a(561),Ie=a(670),We=a(671),Me=a(557),Ne=a(534),Fe=a(558),ze=a(559),Ge=a(562),Le=a(527),qe=Object(s.a)((function(e){return{Table:{"& thead th":{fontWeight:"600",color:e.palette.text.primary,backgroundColor:e.palette.background.paper},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:e.palette.background.default}}}}));function Ue(e,t,a){var n=qe(),r=[25,35,40],i=Object(m.useState)(0),c=Object(h.a)(i,2),o=c[0],s=c[1],l=Object(m.useState)(r[o]),d=Object(h.a)(l,2),j=d[0],u=d[1],b=Object(m.useState)(),p=Object(h.a)(b,2),x=p[0],O=p[1],f=Object(m.useState)(),g=Object(h.a)(f,2),v=g[0],y=g[1],w=function(e,t){s(t)},S=function(e){u(parseInt(e.target.value,10)),s(0)};function C(e,t,a){return t[a]<e[a]?-1:t[a]>t[a]?1:0}return{TblContainer:function(e){return Object(D.jsx)(Me.a,{component:Ne.a,children:Object(D.jsx)(Fe.a,{className:n.Table,children:e.children})})},TblHead:function(e){return Object(D.jsx)(ze.a,{children:Object(D.jsx)(Ee.a,{children:t.map((function(e){return Object(D.jsx)(Be.a,{sortDirection:v===e.id&&x,children:e.disableSorting?e.label:Object(D.jsx)(Ge.a,{active:v===e.id,direction:v===e.id?x:"asc",onClick:function(){var t;t=e.id,O(v===t&&"asc"===x?"desc":"asc"),y(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(D.jsx)(Le.a,{rowsPerPageOptions:r,component:"div",count:null===e||void 0===e?void 0:e.length,rowsPerPage:j,page:o,onPageChange:w,onRowsPerPageChange:S})},recordsAfterSorting:function(){return function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a.fn(e),function(e,t){return"desc"==e?function(e,a){return C(e,a,t)}:function(e,a){return-C(e,a,t)}}(x,v)).slice(o*j,(o+1)*j)}}}var Ye=a(564),He=a(565),Je=a(566),Ke=a(669),Ve=Object(s.a)((function(e){return{dialogWraper:{padding:e.spacing(1)}}}));function Ze(e){var t=e.title,a=e.subTitle,n=e.children,r=e.openPopup,i=e.setOpenPopup,c=Ve();return Object(D.jsxs)(Ye.a,{open:r,maxWidth:"md",classes:{paper:c.dialogWraper},children:[Object(D.jsx)(He.a,{disableTypography:!0,children:Object(D.jsxs)("div",{style:{display:"flex"},children:[Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[Object(D.jsx)(P.a,{color:"textPrimary",variant:"h4",component:"div",children:t}),Object(D.jsx)(P.a,{color:"textSecondary",variant:"body1",component:"div",children:a})]}),Object(D.jsx)(k.a,{color:"secondary",edge:"end",onClick:function(){i(!1)},children:Object(D.jsx)(Ke.a,{size:"20"})})]})}),Object(D.jsx)(Je.a,{dividers:!0,children:n})]})}var $e=[{value:"Awaiting",label:"Awaiting"},{value:"Arrived",label:"Arrived"},{value:"Departed",label:"Departed"},{value:"Canceled",label:"Canceled"}],Qe={id:0,email:"",roomType:"",name:"",phone:"",status:"",checkIn:"",checkOut:""},Xe=function(e){var t=e.recordsforedit,a=e.handleSubmit,n=Object(m.useState)(Qe),r=Object(h.a)(n,2),i=r[0],c=r[1];Object(m.useEffect)((function(){c(Object(g.a)({},t))}),[t]);return Object(D.jsxs)("form",Object(g.a)(Object(g.a)({autoComplete:"off",noValidate:!0},e),{},{children:[Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"FullName",name:"name",required:!0,value:i.name,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Email Address",name:"email",required:!0,value:i.email,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Room Type",name:"roomType",required:!0,value:i.roomType,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Phone Number",name:"phone",type:"text",value:i.phone,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"checkIn",name:"checkIn",required:!0,value:i.checkIn,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"checkOut",name:"checkOut",value:i.checkOut,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Booking Status",name:"status",onChange:function(e){c(Object(g.a)(Object(g.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))},required:!0,select:!0,SelectProps:{native:!0},value:i.status,variant:"outlined",children:$e.map((function(e){return Object(D.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(D.jsx)(I.a,{color:"primary",variant:"contained",onClick:function(){a(i)},children:"Update"})})]}))},et=a(567),tt=a(522);function at(e){var t=e.notify,a=e.setNotify,n=function(e){a(Object(g.a)(Object(g.a)({},t),{},{isOpen:!1}))};return Object(D.jsx)(et.a,{onClose:n,open:t.isOpen,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(D.jsx)(tt.a,{variant:"filled",onClose:n,severity:t.type,children:t.message})})}var nt=a(569),rt=Object(s.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute"},dialogContent:{textAlign:"center"},titleIcon:{"&:hover":{cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"4rem"}}}}));function it(e){e.color;var t=e.confirmDialog,a=e.setConfirmDialog,n=rt();return Object(D.jsxs)(Ye.a,{open:t.isOpen,classes:{paper:n.dialog},children:[Object(D.jsx)(He.a,{}),Object(D.jsxs)(Je.a,{className:n.dialogContent,children:[Object(D.jsx)(P.a,{variant:"h4",children:t.title}),Object(D.jsx)(P.a,{variant:"subtitle2",children:t.subTitle})]}),Object(D.jsxs)(nt.a,{children:[Object(D.jsx)(I.a,{onClick:t.onConfirm,color:"primary",children:"Yes"}),Object(D.jsx)(I.a,{onClick:function(){a(Object(g.a)(Object(g.a)({},t),{},{isOpen:!1}))},color:"secondary",children:"No"})]})]})}var ct=a(570);function ot(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(ct.a,{})})}var st=a(532),lt=a(370),dt=a.n(lt),jt=a(181),ut=a.n(jt),bt=a(369),pt=a.n(bt),xt=a(110),ht=a(109),Ot=a(107),mt=a(104);function ft(e){switch(e){case"Departed":return xt.a;case"Arrived":return ht.a;case"Canceled":return Ot.a;default:return mt.a}}var gt=function(e){var t=e.status;return Object(D.jsx)(st.a,{size:"small",label:t,avatar:"Departed"===t?Object(D.jsx)(pt.a,{style:{color:"white"}}):"Canceled"===t?Object(D.jsx)(ut.a,{style:{color:"white"}}):"Arrived"==t?Object(D.jsx)(dt.a,{style:{color:"white"}}):null,style:{backgroundColor:ft(t)[600],color:"white"}})},vt=[{id:"personalInfo",label:"Personal Details"},{id:"roomType",label:"Room type"},{id:"arrival",label:"Arrival",disableSorting:!0},{id:"depature",label:"Depature",disableSorting:!0},{id:"bookedAt",label:"Date Booked"},{id:"status",label:"Status",disableSorting:!0},{id:"actions",label:"Actions",disableSorting:!0}],yt=function(e){var t=e.filterfn,a=Object(m.useContext)(te),n=a.bookings,r=a.user,i=a.error,o=a.logOutUser,s=a.updateBooking,l=a.deleteBooking,d=a.loading,j=a.getStats,u=Object(c.h)(),b=Object(m.useState)({isOpen:!1,message:"",type:""}),p=Object(h.a)(b,2),x=p[0],O=p[1],f=Object(m.useState)({isOpen:!1,title:"",subTitle:""}),v=Object(h.a)(f,2),y=v[0],w=v[1],C=Ue(n,vt,t),T=C.TblContainer,A=C.TblHead,R=C.TblPagination,_=C.recordsAfterSorting,E=Object(m.useState)(!1),B=Object(h.a)(E,2),I=B[0],W=B[1],M=Object(m.useState)(null),N=Object(h.a)(M,2),F=N[0],z=N[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ye.a,{children:Object(D.jsx)(_e.a,{children:Object(D.jsxs)(S.a,{sx:{minWidth:1050},children:[Object(D.jsxs)(T,{children:[Object(D.jsx)(A,{}),d?Object(D.jsx)(Pe.a,{children:Object(D.jsx)(Ee.a,{children:Object(D.jsx)(Be.a,{align:"center",children:Object(D.jsx)(ot,{})})})}):Object(D.jsx)(Pe.a,{children:_().map((function(e){return Object(D.jsxs)(Ee.a,{hover:!0,children:[Object(D.jsx)(Be.a,{children:Object(D.jsx)(fe.a,{container:!0,children:Object(D.jsxs)(fe.a,{item:!0,children:[Object(D.jsxs)(P.a,{children:["Name: ",e.name]}),Object(D.jsxs)(P.a,{color:"textSecondary",variant:"body2",children:["Email: ",e.email]}),Object(D.jsxs)(P.a,{color:"textSecondary",variant:"caption",children:["Phone: ",e.phone]})]})})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:e.roomType})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:e.checkIn})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:e.checkOut})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:ve()(e.createdAt).format("DD/MM/YYYY")})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(gt,{status:e.status})}),Object(D.jsxs)(Be.a,{padding:"none",children:[Object(D.jsx)(k.a,{color:"inherit",onClick:function(){return function(e){z(e),W(!0)}(e)},children:Object(D.jsx)(Ie.a,{size:"20"})}),"Super-Admin"===r.user.permission?Object(D.jsx)(k.a,{color:"secondary",onClick:function(){w({isOpen:!0,title:"Are you sure you want to delete this booking?",subTitle:"You can't undo this operation",onConfirm:function(){var t;t=e._id,w(Object(g.a)(Object(g.a)({},y),{},{isOpen:!1})),l(t,r).then((function(){O({isOpen:!0,message:"Booking deleted successfully",type:"error"})}))}})},children:Object(D.jsx)(We.a,{size:"20"})}):null]})]},e._id)}))})]}),Object(D.jsx)(R,{})]})})}),Object(D.jsx)(Ze,{openPopup:I,setOpenPopup:W,title:"Booking Details",subTitle:"Only the Status of a booking can be edited",children:Object(D.jsx)(Xe,{recordsforedit:F,handleSubmit:function(e){"Access not authorized, There was an error => jwt expired"===i&&(o(),u("/login",{replace:!0})),s(e,r).then(Object(J.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(r);case 2:O({isOpen:!0,message:"Status changed successfully",type:"success"});case 3:case"end":return e.stop()}}),e)})))),W(!1)}})}),Object(D.jsx)(at,{notify:x,setNotify:O}),Object(D.jsx)(it,{confirmDialog:y,setConfirmDialog:w})]})},wt=a(35),St=a(673),Ct=a(379),kt={email:"",name:"",phone:"",room:""},Tt=[{value:"Standard Room",label:"Standard Room"},{value:"Presidential Suite",label:"Presidential Suite"},{value:"Delux Twin Bed Room",label:"Delux Twin Bed Room"},{value:"Deluxe Standard Room",label:"Deluxe Standard Room"},{value:"Deluxe Room",label:"Deluxe Room"}],At=function(e){e.open;var t=e.setOpen,a=Object(m.useState)(null),n=Object(h.a)(a,2),r=n[0],i=n[1],c=Object(m.useState)(null),o=Object(h.a)(c,2),s=o[0],l=o[1],d=Object(m.useState)(kt),j=Object(h.a)(d,2),u=j[0],b=j[1],p=Object(m.useContext)(te),x=p.getFilteredBookings,f=p.user,v=p.getBookings,y=function(e){b(Object(g.a)(Object(g.a)({},u),{},Object(O.a)({},e.target.name,e.target.value)))};Object(m.useEffect)((function(){b(Object(g.a)(Object(g.a)({},u),{},{checkOutDate:ve()(s).format("DD/MM/YYYY")}))}),[s]),Object(m.useEffect)((function(){b(Object(g.a)(Object(g.a)({},u),{},{checkInDate:ve()(r).format("DD/MM/YYYY")}))}),[r]);var w=function(){var e=Object(J.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,x(f,u);case 3:t(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(J.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,v(f);case 3:b(kt),t(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(wt.a,{utils:Ct.a,children:Object(D.jsx)(S.a,{children:Object(D.jsx)(ye.a,{children:Object(D.jsx)(we.a,{children:Object(D.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(D.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,size:"small",label:"FullName",name:"name",onChange:y,value:u.name,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,size:"small",onChange:y,label:"Email Address",name:"email",value:u.email,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{size:"small",fullWidth:!0,onChange:y,label:"Phone Number",name:"phone",type:"number",value:u.phone,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsxs)(Te.a,{fullWidth:!0,size:"small",label:"Room type",name:"room",onChange:y,select:!0,SelectProps:{native:!0},value:u.room,variant:"outlined",children:[Object(D.jsx)("option",{}),Tt.map((function(e){return Object(D.jsx)("option",{value:e.value,children:e.label},e.value)}))]})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(St.a,{placeholder:"dd/M/yyyy",variant:"inline",fullWidth:!0,size:"small",disableToolbar:!0,margin:"normal",id:"Check-in-date",label:"Check in date",format:"dd/M/yyyy",value:r,autoOk:!0,onChange:function(e){i(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(St.a,{placeholder:"dd/M/yyyy",variant:"inline",size:"small",disableToolbar:!0,fullWidth:!0,margin:"normal",id:"Check-out-date",label:"Check out date",format:"dd/M/yyyy",value:s,autoOk:!0,onChange:function(e){l(e)},KeyboardButtonProps:{"aria-label":"change date"}})})]}),Object(D.jsxs)(S.a,{sx:{display:"flex",justifyContent:"flex-end",marginTop:2},children:[Object(D.jsx)(I.a,{color:"primary",variant:"contained",onClick:w,children:"Search"}),Object(D.jsx)(I.a,{style:{marginLeft:10},color:"primary",variant:"contained",onClick:C,children:"Reset"})]})]})})})})})},Dt=a(530);var Rt=function(e){var t=e.open;return Object(D.jsx)("div",{children:Object(D.jsx)(Dt.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,children:Object(D.jsx)(ct.a,{color:"inherit"})})})},_t=function(){var e=Object(m.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(m.useState)({fn:function(e){return e}}),i=Object(h.a)(r,2),c=i[0],o=i[1],s=Object(m.useContext)(te),l=s.user,d=s.getBookings;Object(m.useEffect)((function(){d(l)}),[]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Bookings "})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsxs)(me.a,{maxWidth:!1,children:[Object(D.jsx)(At,{open:a,setOpen:n,onHandleChange:function(e){var t=e.target;o({fn:function(e){return""===t.value?e:e.filter((function(e){return e.name.toLowerCase().includes(t.value.toLowerCase())||e.email.toLowerCase().includes(t.value.toLowerCase())||e.phone.includes(t.value)||e.roomType.toLowerCase().includes(t.value.toLowerCase())}))}})}}),Object(D.jsx)(S.a,{sx:{pt:3},children:Object(D.jsx)(yt,{filterfn:c})})]})}),Object(D.jsx)(Rt,{open:a})]})},Pt=a(371),Et=a.n(Pt),Bt=function(e){var t=e.stats;return Object(D.jsx)(ye.a,Object(g.a)(Object(g.a)({sx:{height:"100%"}},e),{},{children:Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(D.jsxs)(fe.a,{item:!0,children:[Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL ARRIVED"}),Object(D.jsx)(P.a,{color:"textPrimary",variant:"h3",children:t.total_arrived})]}),Object(D.jsx)(fe.a,{item:!0,children:Object(D.jsx)(_.a,{sx:{backgroundColor:ht.a[600],height:56,width:56},children:Object(D.jsx)(Et.a,{})})})]})})}))},It=a(108),Wt=a(372),Mt=a.n(Wt),Nt=function(e){var t=e.stats;return Object(D.jsx)(ye.a,Object(g.a)(Object(g.a)({sx:{height:"100%"}},e),{},{children:Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(D.jsxs)(fe.a,{item:!0,children:[Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL PENDING"}),Object(D.jsx)(P.a,{color:"textPrimary",variant:"h3",children:t.total_pending})]}),Object(D.jsx)(fe.a,{item:!0,children:Object(D.jsx)(_.a,{sx:{backgroundColor:It.a[600],height:56,width:56},children:Object(D.jsx)(Mt.a,{})})})]})})}))},Ft=a(184),zt=a.n(Ft),Gt=a(182),Lt=a.n(Gt),qt=a(373),Ut=a.n(qt),Yt=a(183),Ht=a.n(Yt);function Jt(e){var t=e.departed_percentage_difference;return t<0?xt.a:t>0?Ot.a:mt.a}var Kt=function(e){var t=e.stats;return Object(D.jsx)(ye.a,Object(g.a)(Object(g.a)({sx:{height:"100%"}},e),{},{children:Object(D.jsxs)(we.a,{children:[Object(D.jsxs)(fe.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(D.jsxs)(fe.a,{item:!0,children:[Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL DEPARTED"}),Object(D.jsx)(P.a,{color:"textPrimary",variant:"h3",children:t.total_departed})]}),Object(D.jsx)(fe.a,{item:!0,children:Object(D.jsx)(_.a,{sx:{backgroundColor:xt.a[600],height:56,width:56},children:Object(D.jsx)(Ut.a,{})})})]}),Object(D.jsxs)(S.a,{sx:{alignItems:"center",display:"flex",pt:2},children:[t.departed_percentage_difference<0?Object(D.jsx)(Lt.a,{sx:{color:Jt(t)[900]}}):null===t.departed_percentage_difference?Object(D.jsx)(Ht.a,{sx:{color:Jt(t)[900]}}):Object(D.jsx)(zt.a,{sx:{color:Jt(t)[900]}}),Object(D.jsxs)(P.a,{sx:{color:Jt(t)[900],mr:1},variant:"body2",children:[null===t.departed_percentage_difference?"-":Math.abs(t.departed_percentage_difference),"%"]}),Object(D.jsx)(P.a,{sx:{color:Jt(t)[900]},variant:"caption",children:"Since last month"})]})]})}))};function Vt(e){var t=e.canceled_percentage_difference;return t<0?xt.a:t>0?Ot.a:mt.a}var Zt=function(e){var t=e.stats;return Object(D.jsx)(ye.a,Object(g.a)(Object(g.a)({sx:{height:"100%"}},e),{},{children:Object(D.jsxs)(we.a,{children:[Object(D.jsxs)(fe.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(D.jsxs)(fe.a,{item:!0,children:[Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL CANCELED"}),Object(D.jsx)(P.a,{color:"textPrimary",variant:"h3",children:t.total_canceled})]}),Object(D.jsx)(fe.a,{item:!0,children:Object(D.jsx)(_.a,{sx:{backgroundColor:Ot.a[600],height:56,width:56},children:Object(D.jsx)(ut.a,{})})})]}),Object(D.jsxs)(S.a,{sx:{pt:2,display:"flex",alignItems:"center"},children:[t.canceled_percentage_difference<0?Object(D.jsx)(Lt.a,{sx:{color:Vt(t)[900]}}):null===t.canceled_percentage_difference?Object(D.jsx)(Ht.a,{sx:{color:Vt(t)[900]}}):Object(D.jsx)(zt.a,{sx:{color:Vt(t)[900]}}),Object(D.jsxs)(P.a,{sx:{color:Vt(t)[900],mr:1},variant:"body2",children:[null===t.canceled_percentage_difference?"-":Math.abs(t.canceled_percentage_difference),"%"]}),Object(D.jsx)(P.a,{sx:{color:Vt(t)[900]},variant:"caption",children:"Since last month"})]})]})}))},$t=a(23),Qt=function(e){var t=Object($t.a)(),a=Object(m.useContext)(te).bookings,n=a.filter((function(e){return"Canceled"===e.status})).length,r=a.filter((function(e){return"Departed"===e.status})).length,i=a.filter((function(e){return"Awaiting"===e.status})).length,c={datasets:[{data:[a.filter((function(e){return"Arrived"===e.status})).length,i,r,n],backgroundColor:[p.a.indigo[500],p.a.orange[600],p.a.green[600],p.a.red[600]],borderWidth:8,borderColor:p.a.common.white,hoverBorderColor:p.a.common.white}],labels:["Arrived","Awaiting","Departed","Canceled"]},o={cutoutPercentage:80,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:t.palette.background.paper,bodyFontColor:t.palette.text.secondary,borderColor:t.palette.divider,borderWidth:1,enabled:!0,footerFontColor:t.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:t.palette.text.primary}};return Object(D.jsxs)(ye.a,Object(g.a)(Object(g.a)({},e),{},{children:[Object(D.jsx)(ke.a,{title:"Current Stats"}),Object(D.jsx)(E.a,{}),Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{height:350,position:"relative"},children:Object(D.jsx)(u.Doughnut,{data:c,options:o})})})]}))},Xt={January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},ea=function(e){var t=Object($t.a)(),a=Object(c.h)(),n=Object(m.useContext)(te),r=n.bookings,i=n.getBookings,o=n.logOutUser,s=n.user,l=n.error;Object(m.useEffect)(Object(J.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(s);case 2:"Access not authorized, There was an error => jwt expired"===l&&(o(),a("/login",{replace:!0}));case 3:case"end":return e.stop()}}),e)}))),[]);var d={},j={},b=function(e){var t=r.reduce((function(t,a){return ve()(a.createdAt).format("MMMM")===Xt[e]&&"Canceled"===a.status&&parseInt(ve()(a.createdAt).format("YYYY"))===parseInt((new Date).getFullYear())?t+1:t}),0);d[e]=t};for(var x in Xt)b(x);var h=function(e){var t=r.reduce((function(t,a){return ve()(a.createdAt).format("MMMM")===Xt[e]&&"Departed"===a.status&&parseInt(ve()(a.createdAt).format("YYYY"))===parseInt((new Date).getFullYear())?t+1:t}),0);j[e]=t};for(var O in Xt)h(O);var f={datasets:[{backgroundColor:p.a.green[600],data:Object.values(j),label:"Departed",barThickness:12,maxBarThickness:10,barPercentage:.5},{backgroundColor:p.a.red[600],data:Object.values(d),label:"Canceled",barThickness:12,maxBarThickness:10,barPercentage:.5}],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},v={cornerRadius:20,layout:{padding:0},legend:{display:!0},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:t.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:t.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:t.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:t.palette.divider}}]},tooltips:{backgroundColor:t.palette.background.paper,bodyFontColor:t.palette.text.secondary,borderColor:t.palette.divider,borderWidth:1,enabled:!0,footerFontColor:t.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:t.palette.text.primary}};return Object(D.jsxs)(ye.a,Object(g.a)(Object(g.a)({},e),{},{children:[Object(D.jsx)(ke.a,{title:"Yearly Stats"}),Object(D.jsx)(E.a,{}),Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{height:400,position:"relative"},children:Object(D.jsx)(u.Bar,{data:f,options:v})})})]}))},ta={January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"};var aa=function(){var e=Object($t.a)(),t=Object(m.useContext)(te).bookings,a={},n=function(e){var n=t.reduce((function(t,a){return ve()(a.createdAt).format("MMMM")===ta[e]&&parseInt(ve()(a.createdAt).format("YYYY"))===parseInt((new Date).getFullYear())?t+1:t}),0);a[e]=n};for(var r in ta)n(r);var i={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Bookings",data:Object.values(a),fill:!1,borderColor:p.a.cyan[600],tension:.1}]},c={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{fontColor:e.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:e.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:e.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:e.palette.divider}}]}};return Object(D.jsxs)(ye.a,{children:[Object(D.jsx)(ke.a,{title:"Overall booking Stats"}),Object(D.jsx)(E.a,{}),Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{height:400,position:"relative"},children:Object(D.jsx)(u.Line,{data:i,options:c})})})]})},na={Presidential:"Presidential Suite",Standard:"Standard Room",DeluxT:"Delux Twin Bed Room",DeluxeS:"Deluxe Standard Room",Deluxe:"Deluxe Room"};var ra=function(){var e=Object(m.useContext)(te).bookings,t={},a=function(a){var n=e.reduce((function(e,t){return t.roomType===na[a]?e+1:e}),0);t[a]=n};for(var n in na)a(n);var r={maintainAspectRatio:!1,responsive:!1,labels:["Presidential Suite","Standard Room","Delux Twin Bed Room","Deluxe Standard Room","Deluxe Room"],datasets:[{data:Object.values(t),backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]};return Object(D.jsxs)(ye.a,{children:[Object(D.jsx)(ke.a,{title:"Room Bookings Stats"}),Object(D.jsx)(E.a,{}),Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{height:400,position:"relative"},children:Object(D.jsx)(u.Pie,{data:r,options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]},elements:{arc:{borderWidth:0}}}})})})]})},ia=function(){var e=Object(m.useContext)(te),t=e.stats,a=e.user,n=e.getStats;return Object(m.useEffect)((function(){n(a)}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Dashboard"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsx)(me.a,{maxWidth:!1,children:Object(D.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(D.jsx)(fe.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(D.jsx)(Bt,{stats:t})}),Object(D.jsx)(fe.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(D.jsx)(Kt,{stats:t})}),Object(D.jsx)(fe.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(D.jsx)(Nt,{stats:t})}),Object(D.jsx)(fe.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(D.jsx)(Zt,{stats:t,sx:{height:"100%"}})}),Object(D.jsx)(fe.a,{item:!0,lg:8,md:6,xl:9,xs:12,children:Object(D.jsx)(aa,{})}),Object(D.jsx)(fe.a,{item:!0,lg:4,md:6,xl:3,xs:12,children:Object(D.jsx)(Qt,{sx:{height:"100%"}})}),Object(D.jsx)(fe.a,{item:!0,lg:8,md:6,xl:9,xs:12,children:Object(D.jsx)(ea,{})}),Object(D.jsx)(fe.a,{item:!0,lg:4,md:6,xl:3,xs:12,children:Object(D.jsx)(ra,{sx:{height:"100%"}})})]})})})]})},ca=a(32),oa=a(87),sa=a(573),la=function(){Object(c.g)();var e=Object(c.h)(),t=Object(m.useContext)(te),a=t.logInUser,n=t.error,r=t.message;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Login "})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(D.jsx)(me.a,{maxWidth:"sm",children:Object(D.jsx)(oa.a,{initialValues:{email:"",password:""},validationSchema:ca.a().shape({email:ca.c().email("Must be a valid email").max(255).required("Email is required"),password:ca.c().max(255).required("Password is required")}),onSubmit:function(t){a(t).then((function(){e("/app/dashboard",{replace:!0})}))},children:function(e){var t=e.errors,a=e.handleBlur,c=e.handleChange,o=e.handleSubmit,s=e.isSubmitting,l=e.touched,d=e.values;return Object(D.jsxs)("form",{onSubmit:o,children:[Object(D.jsx)(S.a,{sx:{display:"Block",marginLeft:"auto",marginRight:"auto",width:"20%"},children:Object(D.jsx)(je,{style:{height:119,width:119}})}),Object(D.jsxs)(S.a,{sx:{mb:3},children:[Object(D.jsx)(P.a,{color:"textPrimary",align:"center",variant:"h2",children:"Sign in"}),Object(D.jsx)(P.a,{align:"center",color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Sign into your admin account"})]}),n&&Object(D.jsx)(S.a,{children:Object(D.jsx)(P.a,{color:"error",align:"center",gutterBottom:!0,variant:"body2",children:n})}),r&&Object(D.jsx)(S.a,{sx:{mt:3},children:Object(D.jsx)(P.a,{align:"center",style:{color:"#3bc70c"},gutterBottom:!0,variant:"body1",children:r})}),Object(D.jsx)(Te.a,{error:Boolean(l.email&&t.email),fullWidth:!0,helperText:l.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:c,type:"email",value:d.email,variant:"outlined"}),Object(D.jsx)(Te.a,{error:Boolean(l.password&&t.password),fullWidth:!0,helperText:l.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:c,type:"password",value:d.password,variant:"outlined"}),Object(D.jsx)(S.a,{sx:{py:2},children:Object(D.jsx)(I.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in now"})}),Object(D.jsxs)(P.a,{color:"textSecondary",variant:"body1",children:["Forgot Password?",Object(D.jsx)(sa.a,{component:i.b,to:"/forgotpassword",variant:"h6",children:"Reset"})]})]})}})})})]})},da=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"404 | Material Kit"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(D.jsxs)(me.a,{maxWidth:"md",children:[Object(D.jsx)(P.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(D.jsx)(P.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(D.jsx)(S.a,{sx:{textAlign:"center"},children:Object(D.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},ja=a(574),ua=a(572),ba=a(243),pa=a(672),xa=function(e){return Object(D.jsxs)(S.a,Object(g.a)(Object(g.a)({},e),{},{children:[Object(D.jsxs)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(D.jsx)(I.a,{children:"Import"}),Object(D.jsx)(I.a,{sx:{mx:1},children:"Export"}),Object(D.jsx)(I.a,{color:"primary",variant:"contained",children:"Add product"})]}),Object(D.jsx)(S.a,{sx:{mt:3},children:Object(D.jsx)(ye.a,{children:Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{maxWidth:500},children:Object(D.jsx)(Te.a,{fullWidth:!0,InputProps:{startAdornment:Object(D.jsx)(ua.a,{position:"start",children:Object(D.jsx)(ba.a,{fontSize:"small",color:"action",children:Object(D.jsx)(pa.a,{})})})},placeholder:"Search product",variant:"outlined"})})})})})]}))},ha=a(377),Oa=a.n(ha),ma=a(378),fa=a.n(ma),ga=function(e){var t=e.product,a=Object(v.a)(e,["product"]);return Object(D.jsxs)(ye.a,Object(g.a)(Object(g.a)({sx:{display:"flex",flexDirection:"column",height:"100%"}},a),{},{children:[Object(D.jsxs)(we.a,{children:[Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"center",pb:3},children:Object(D.jsx)(_.a,{alt:"Product",src:t.media,variant:"square"})}),Object(D.jsx)(P.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.title}),Object(D.jsx)(P.a,{align:"center",color:"textPrimary",variant:"body1",children:t.description})]}),Object(D.jsx)(S.a,{sx:{flexGrow:1}}),Object(D.jsx)(E.a,{}),Object(D.jsx)(S.a,{sx:{p:2},children:Object(D.jsxs)(fe.a,{container:!0,spacing:2,sx:{justifyContent:"space-between"},children:[Object(D.jsxs)(fe.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(D.jsx)(Oa.a,{color:"action"}),Object(D.jsx)(P.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:"Updated 2hr ago"})]}),Object(D.jsxs)(fe.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(D.jsx)(fa.a,{color:"action"}),Object(D.jsxs)(P.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:[t.totalDownloads," ","Downloads"]})]})]})})]}))},va=a(674),ya=[{id:Object(va.a)(),createdAt:"27/03/2019",description:"Dropbox is a file hosting service that offers cloud storage, file synchronization, a personal cloud.",media:"/static/images/products/product_1.png",title:"Dropbox",totalDownloads:"594"},{id:Object(va.a)(),createdAt:"31/03/2019",description:"Medium is an online publishing platform developed by Evan Williams, and launched in August 2012.",media:"/static/images/products/product_2.png",title:"Medium Corporation",totalDownloads:"625"},{id:Object(va.a)(),createdAt:"03/04/2019",description:"Slack is a cloud-based set of team collaboration tools and services, founded by Stewart Butterfield.",media:"/static/images/products/product_3.png",title:"Slack",totalDownloads:"857"},{id:Object(va.a)(),createdAt:"04/04/2019",description:"Lyft is an on-demand transportation company based in San Francisco, California.",media:"/static/images/products/product_4.png",title:"Lyft",totalDownloads:"406"},{id:Object(va.a)(),createdAt:"04/04/2019",description:"GitHub is a web-based hosting service for version control of code using Git.",media:"/static/images/products/product_5.png",title:"GitHub",totalDownloads:"835"},{id:Object(va.a)(),createdAt:"04/04/2019",description:"Squarespace provides software as a service for website building and hosting. Headquartered in NYC.",media:"/static/images/products/product_6.png",title:"Squarespace",totalDownloads:"835"}],wa=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Products | Material Kit"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsxs)(me.a,{maxWidth:!1,children:[Object(D.jsx)(xa,{}),Object(D.jsx)(S.a,{sx:{pt:3},children:Object(D.jsx)(fe.a,{container:!0,spacing:3,children:ya.map((function(e){return Object(D.jsx)(fe.a,{item:!0,lg:4,md:6,xs:12,children:Object(D.jsx)(ga,{product:e})},e.id)}))})}),Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"center",pt:3},children:Object(D.jsx)(ja.a,{color:"primary",count:3,size:"small"})})]})})]})},Sa=(a(575),a(523),function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Settings"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsx)(me.a,{maxWidth:"lg",children:Object(D.jsx)(S.a,{sx:{pt:3}})})})]})});function Ca(e){var t=e.children,a=Object(m.useContext)(te).auth,n=Object(c.g)();return a?t:Object(D.jsx)(c.a,{to:"/login",state:{from:n}})}var ka=function(e){var t=Object(c.h)(),a=Object(c.i)(),n=Object(m.useContext)(te).finishSetup;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Create Password"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(D.jsx)(me.a,{maxWidth:"sm",children:Object(D.jsx)(oa.a,{initialValues:{passwordConfirmation:"",password:"",policy:!1},validationSchema:ca.a().shape({password:ca.c().min(8).required("Password is required"),passwordConfirmation:ca.c().min(8).required("Confirm Password is required").oneOf([ca.b("password"),null],"Passwords must match")}),onSubmit:function(e){n(e,a).then((function(){t("/app/dashboard",{replace:!0})}))},children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,i=e.isSubmitting,c=e.touched,o=e.values;return Object(D.jsxs)("form",{onSubmit:r,children:[Object(D.jsxs)(S.a,{sx:{mb:3},children:[Object(D.jsx)(P.a,{color:"textPrimary",variant:"h2",children:"Account setup"}),Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Enter a new password to finish your account setup"})]}),Object(D.jsx)(Te.a,{error:Boolean(c.password&&t.password),fullWidth:!0,helperText:c.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:o.password,variant:"outlined"}),Object(D.jsx)(Te.a,{error:Boolean(c.passwordConfirmation&&t.passwordConfirmation),fullWidth:!0,helperText:c.passwordConfirmation&&t.passwordConfirmation,label:"Confirm password",margin:"normal",name:"passwordConfirmation",onBlur:a,onChange:n,type:"password",value:o.passwordConfirmation,variant:"outlined"}),Object(D.jsx)(S.a,{sx:{py:2},children:Object(D.jsx)(I.a,{color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"submit"})})]})}})})})]})},Ta=function(){var e=Object(m.useContext)(te),t=e.fogortPassword,a=e.message,n=e.error;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"ForgotPassword | Luxury Touch Hotel"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"80%",justifyContent:"center"},children:Object(D.jsx)(me.a,{maxWidth:"sm",children:Object(D.jsx)(oa.a,{initialValues:{email:""},validationSchema:ca.a().shape({email:ca.c().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(){var e=Object(J.a)(H.a.mark((function e(a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,r=e.handleBlur,i=e.handleChange,c=e.handleSubmit,o=e.isSubmitting,s=e.touched,l=e.values;return Object(D.jsxs)("form",{onSubmit:c,children:[Object(D.jsxs)(S.a,{sx:{mb:3},children:[Object(D.jsx)(P.a,{align:"center",color:"textPrimary",variant:"h2",children:"Reset Password"}),Object(D.jsx)(P.a,{align:"center",color:"textSecondary",gutterBottom:!0,variant:"body2",children:"A Reset link will be sent to the email associated with your admin account"}),a&&Object(D.jsx)(S.a,{sx:{mt:3},children:Object(D.jsx)(P.a,{align:"center",style:{color:"#3bc70c"},gutterBottom:!0,variant:"body1",children:a})}),n&&Object(D.jsx)(S.a,{sx:{mt:3},children:Object(D.jsx)(P.a,{align:"center",color:"error",variant:"body1",children:n})})]}),Object(D.jsx)(Te.a,{error:Boolean(s.email&&t.email),fullWidth:!0,helperText:s.email&&t.email,label:"Enter Email Address",margin:"normal",name:"email",onBlur:r,onChange:i,type:"email",value:l.email,variant:"outlined"}),Object(D.jsx)(S.a,{sx:{py:2},children:Object(D.jsx)(I.a,{color:"primary",disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"RESET PASSWORD"})})]})}})})})]})},Aa=[{value:"Admin",label:"Admin"},{value:"Super-Admin",label:"Super-Admin"}],Da={id:0,email:"",roomType:"",name:"",phone:"",permission:""},Ra=function(e){var t=e.recordsforedit,a=e.handleSubmit,n=Object(m.useState)(Da),r=Object(h.a)(n,2),i=r[0],c=r[1];Object(m.useEffect)((function(){c(Object(g.a)({},t))}),[t]);return Object(D.jsxs)("form",Object(g.a)(Object(g.a)({autoComplete:"off",noValidate:!0},e),{},{children:[Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"FullName",name:"name",required:!0,value:i.name,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Email Address",name:"email",required:!0,value:i.email,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Phone Number",name:"phone",type:"text",value:i.phone,variant:"outlined",InputProps:{readOnly:!0}})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Admin Permission",name:"permission",onChange:function(e){c(Object(g.a)(Object(g.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))},required:!0,select:!0,SelectProps:{native:!0},value:i.permission,variant:"outlined",children:Aa.map((function(e){return Object(D.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(D.jsx)(I.a,{color:"primary",variant:"contained",onClick:function(){a(i)},children:"Update"})})]}))},_a=[{id:"name",label:"Full Name"},{id:"email",label:"Email"},{id:"phone",label:"Phone",disableSorting:!0},{id:"permission",label:"Permission",disableSorting:!0},{id:"dateCraeted",label:"Added on",disableSorting:!0},{id:"status",label:"Status",disableSorting:!0},{id:"actions",label:"Actions",disableSorting:!0}],Pa=Object(s.a)((function(e){return{card:{padding:e.spacing(3)}}})),Ea=function(e){var t=e.filterfn,a=Object(m.useContext)(te),n=a.getAdmins,r=a.user,i=a.error,o=a.loading,s=a.logOutUser,l=a.admins,d=a.updateAdmin,j=a.deleteAdmin,u=Pa(),b=Object(c.h)(),p=Object(m.useState)({isOpen:!1,message:"",type:""}),x=Object(h.a)(p,2),O=x[0],f=x[1],v=Object(m.useState)({isOpen:!1,title:"",subTitle:""}),y=Object(h.a)(v,2),w=y[0],C=y[1],T=Ue(l,_a,t),A=T.TblContainer,R=T.TblHead,E=T.TblPagination,B=T.recordsAfterSorting,I=Object(m.useState)(!1),W=Object(h.a)(I,2),M=W[0],N=W[1],F=Object(m.useState)(null),z=Object(h.a)(F,2),G=z[0],L=z[1];return Object(m.useEffect)((function(){n(r).then((function(){"Access not authorized, There was an error => jwt expired"===i&&(s(),b("/login",{replace:!0}))}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ye.a,{className:u.card,children:Object(D.jsx)(_e.a,{children:Object(D.jsxs)(S.a,{sx:{minWidth:1050},children:[Object(D.jsxs)(A,{children:[Object(D.jsx)(R,{}),o?Object(D.jsx)(Pe.a,{children:Object(D.jsx)(Ee.a,{children:Object(D.jsx)(Be.a,{align:"center",children:Object(D.jsx)(ot,{})})})}):Object(D.jsx)(Pe.a,{children:B().map((function(e){return Object(D.jsxs)(Ee.a,{hover:!0,children:[Object(D.jsx)(Be.a,{children:Object(D.jsxs)(fe.a,{container:!0,children:[Object(D.jsx)(fe.a,{item:!0,lg:4,children:Object(D.jsx)(_.a,{variant:"string",alt:e.name})}),Object(D.jsx)(fe.a,{item:!0,lg:8,children:Object(D.jsxs)(P.a,{children:[" ",e.name]})})]})}),Object(D.jsx)(Be.a,{children:Object(D.jsxs)(P.a,{children:[" ",e.email]})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:e.phone})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:e.permission})}),Object(D.jsx)(Be.a,{children:Object(D.jsx)(P.a,{children:ve()(e.createdAt).format("DD/MM/YYYY")})}),e.inviteToken?Object(D.jsx)(Be.a,{children:Object(D.jsx)(st.a,{size:"small",label:"pending",style:{backgroundColor:It.a[600],color:"white"}})}):Object(D.jsx)(Be.a,{children:Object(D.jsx)(st.a,{size:"small",label:"activated",style:{backgroundColor:xt.a[600],color:"white"}})}),Object(D.jsx)(Be.a,{padding:"none",children:Object(D.jsxs)("div",{style:{flexDirection:"row",display:"flex",alignContent:"center"},children:[Object(D.jsx)(k.a,{color:"inherit",onClick:function(){return function(e){L(e),N(!0)}(e)},children:Object(D.jsx)(Ie.a,{size:"20"})}),"Super-Admin"===r.user.permission?Object(D.jsx)(k.a,{color:"secondary",onClick:function(){C({isOpen:!0,title:"Are you sure you want to delete this admin?",subTitle:"You can't undo this operation",onConfirm:function(){var t;t=e._id,C(Object(g.a)(Object(g.a)({},w),{},{isOpen:!1})),j(t,r).then((function(){f({isOpen:!0,message:"Admin deleted successfully",type:"error"})}))}})},children:Object(D.jsx)(We.a,{size:"20"})}):null]})})]},e._id)}))})]}),Object(D.jsx)(E,{})]})})}),Object(D.jsx)(Ze,{openPopup:M,setOpenPopup:N,title:"Admin Details",subTitle:"Edit admin information",children:Object(D.jsx)(Ra,{recordsforedit:G,handleSubmit:function(e){"Access not authorized, There was an error => jwt expired"===i&&(s(),b("/login",{replace:!0})),d(r,e).then((function(){N(!1),f({isOpen:!0,message:"Permission changed successfully",type:"success"})}))}})}),Object(D.jsx)(at,{notify:O,setNotify:f}),Object(D.jsx)(it,{confirmDialog:w,setConfirmDialog:C})]})},Ba=[{value:"Admin",label:"Admin"},{value:"Super-Admin",label:"Super-Admin"}],Ia={id:0,email:"",name:"",phone:"",permission:"Admin"},Wa=function(e){e.openPopup;var t=e.setOpenPopup,a=e.setNotify,n=Object(m.useState)(Ia),r=Object(h.a)(n,2),i=r[0],c=r[1],o=Object(m.useContext)(te),s=o.addNewUser,l=o.user,d=o.getAdmins,j=function(e){c(Object(g.a)(Object(g.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(D.jsxs)("form",Object(g.a)(Object(g.a)({autoComplete:"off",noValidate:!0},e),{},{children:[Object(D.jsx)(we.a,{children:Object(D.jsxs)(fe.a,{container:!0,spacing:2,children:[Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"FullName",name:"name",onChange:j,required:!0,value:i.name,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:j,required:!0,value:i.email,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Phone Number",onChange:j,name:"phone",type:"text",value:i.phone,variant:"outlined"})}),Object(D.jsx)(fe.a,{item:!0,md:6,xs:12,children:Object(D.jsx)(Te.a,{fullWidth:!0,label:"Admin Role",name:"permission",onChange:j,required:!0,select:!0,SelectProps:{native:!0},value:i.status,variant:"outlined",children:Ba.map((function(e){return Object(D.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(D.jsx)(I.a,{color:"primary",variant:"contained",onClick:function(){s(i,l).then((function(){t(!1),a({isOpen:!0,message:"Admin invitation sent successfully",type:"success"})})),d(l)},children:"Add admin"})})]}))},Ma=function(){var e=Object(m.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(m.useState)({isOpen:!1,message:"",type:""}),i=Object(h.a)(r,2),c=i[0],o=i[1],s=Object(m.useState)({isOpen:!1,title:"",subTitle:""}),l=Object(h.a)(s,2);l[0],l[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(S.a,{children:Object(D.jsx)(ye.a,{children:Object(D.jsx)(we.a,{children:Object(D.jsx)(S.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(D.jsx)(I.a,{color:"primary",variant:"contained",onClick:function(){n(!0)},children:"Add Admin"})})})})}),Object(D.jsx)(Ze,{openPopup:a,setOpenPopup:n,title:"Add new Admin",children:Object(D.jsx)(Wa,{setNotify:o,openPopup:a,setOpenPopup:n})}),Object(D.jsx)(at,{notify:c,setNotify:o})]})},Na=function(){var e=JSON.parse(localStorage.getItem("authenticatedUser")).user,t=Object(m.useState)({fn:function(e){return e}}),a=Object(h.a)(t,2),n=a[0];a[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Manage Admins"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(D.jsxs)(me.a,{maxWidth:"lg",children:["Super-Admin"===e.permission?Object(D.jsx)(S.a,{sx:{pb:3},children:Object(D.jsx)(Ma,{})}):null,Object(D.jsx)(S.a,{sx:{pt:3},children:Object(D.jsx)(Ea,{filterfn:n})})]})})]})},Fa=function(e){var t=Object(c.h)(),a=Object(c.i)(),n=Object(m.useContext)(te),r=n.resetPassword,i=n.error;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Oe.a,{children:Object(D.jsx)("title",{children:"Luxury Touch Hotel | Reset Password"})}),Object(D.jsx)(S.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(D.jsx)(me.a,{maxWidth:"sm",children:Object(D.jsx)(oa.a,{initialValues:{passwordConfirmation:"",password:"",policy:!1},validationSchema:ca.a().shape({password:ca.c().min(8).required("Password is required"),passwordConfirmation:ca.c().min(8).required("Confirm Password is required").oneOf([ca.b("password"),null],"Passwords must match")}),onSubmit:function(){var e=Object(J.a)(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n,a);case 2:t("/login",{replace:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,c=e.isSubmitting,o=e.touched,s=e.values;return Object(D.jsxs)("form",{onSubmit:r,children:[Object(D.jsxs)(S.a,{sx:{mb:3},children:[Object(D.jsx)(P.a,{color:"textPrimary",variant:"h2",children:"Reset password"}),Object(D.jsx)(P.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Enter a new password for your account"}),i&&Object(D.jsx)(S.a,{sx:{mt:3},children:Object(D.jsx)(P.a,{align:"center",color:"error",variant:"body1",children:i})})]}),Object(D.jsx)(Te.a,{error:Boolean(o.password&&t.password),fullWidth:!0,helperText:o.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:s.password,variant:"outlined"}),Object(D.jsx)(Te.a,{error:Boolean(o.passwordConfirmation&&t.passwordConfirmation),fullWidth:!0,helperText:o.passwordConfirmation&&t.passwordConfirmation,label:"Confirm password",margin:"normal",name:"passwordConfirmation",onBlur:a,onChange:n,type:"password",value:s.passwordConfirmation,variant:"outlined"}),Object(D.jsx)(S.a,{sx:{py:2},children:Object(D.jsx)(I.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"RESET PASSWORD NOW"})})]})}})})})]})},za=[{path:"app",element:Object(D.jsx)(Ca,{children:Object(D.jsx)(de,{})}),children:[{path:"account",element:Object(D.jsx)(De,{})},{path:"bookings",element:Object(D.jsx)(_t,{})},{path:"dashboard",element:Object(D.jsx)(ia,{})},{path:"products",element:Object(D.jsx)(wa,{})},{path:"settings",element:Object(D.jsx)(Sa,{})},{path:"admins",element:Object(D.jsx)(Na,{})},{path:"*",element:Object(D.jsx)(c.a,{to:"/404"})}]},{path:"/",element:Object(D.jsx)(he,{}),children:[{path:"login",element:Object(D.jsx)(la,{})},{path:"forgotpassword",element:Object(D.jsx)(Ta,{})},{path:"resetpassword/:resetToken",element:Object(D.jsx)(Fa,{})},{path:"newaccount/:inviteToken",element:Object(D.jsx)(ka,{})},{path:"404",element:Object(D.jsx)(da,{})},{path:"/",element:Object(D.jsx)(c.a,{to:"/app/dashboard"})},{path:"*",element:Object(D.jsx)(c.a,{to:"/404"})}]}],Ga=function(){var e=Object(c.k)(za),t=Object(c.h)();return $.a.interceptors.response.use((function(e){return new Promise((function(t,a){t(e)}))}),(function(e){return e.response?403!==e.response.status?new Promise((function(t,a){a(e)})):(localStorage.removeItem("authenticatedUser"),void t("/login",{replace:!0})):new Promise((function(t,a){a(e)}))})),Object(D.jsx)(ae,{children:Object(D.jsxs)(o.a,{theme:x,children:[Object(D.jsx)(j,{}),e]})})};r.a.render(Object(D.jsx)(i.a,{children:Object(D.jsx)(Ga,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[520,1,2]]]);
//# sourceMappingURL=main.aa4bc7f0.chunk.js.map